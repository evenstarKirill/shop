{"ast":null,"code":"import jwtDecode from 'jwt-decode';\nimport { $authHost, $host } from './index';\nexport const registration = async _ref => {\n  let {\n    email,\n    password\n  } = _ref;\n  const {\n    data\n  } = await $host.post('api/user/registration', {\n    email,\n    password,\n    role: 'ADMIN'\n  });\n  localStorage.setItem('token', data);\n  return jwtDecode(data);\n};\nexport const login = async _ref2 => {\n  let {\n    email,\n    password\n  } = _ref2;\n  const {\n    data\n  } = await $host.post('api/user/login', {\n    email,\n    password\n  });\n  console.log('login', data);\n  localStorage.setItem('token', data);\n  return jwtDecode(data);\n};\nexport const checkIsAuth = async () => {\n  const {\n    data\n  } = await $authHost.get('api/user/auth');\n  localStorage.setItem('token', data.token);\n  return jwtDecode(data.token);\n};","map":{"version":3,"names":["jwtDecode","$authHost","$host","registration","email","password","data","post","role","localStorage","setItem","login","console","log","checkIsAuth","get","token"],"sources":["/Users/apple/Documents/work/2022/fullstack-shop/client/src/http/userApi.ts"],"sourcesContent":["import jwtDecode from 'jwt-decode';\n\nimport { $authHost, $host } from './index';\n\nexport const registration = async ({ email, password }: any) => {\n  const { data } = await $host.post('api/user/registration', {\n    email,\n    password,\n    role: 'ADMIN',\n  });\n  localStorage.setItem('token', data);\n\n  return jwtDecode(data);\n};\n\nexport const login = async ({ email, password }: any) => {\n  const { data } = await $host.post('api/user/login', {\n    email,\n    password,\n  });\n  console.log('login', data);\n\n  localStorage.setItem('token', data);\n\n  return jwtDecode(data);\n};\n\nexport const checkIsAuth = async () => {\n  const { data } = await $authHost.get('api/user/auth');\n\n  localStorage.setItem('token', data.token);\n\n  return jwtDecode(data.token);\n};\n"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AAEA,SAASC,SAAT,EAAoBC,KAApB,QAAiC,SAAjC;AAEA,OAAO,MAAMC,YAAY,GAAG,cAAoC;EAAA,IAA7B;IAAEC,KAAF;IAASC;EAAT,CAA6B;EAC9D,MAAM;IAAEC;EAAF,IAAW,MAAMJ,KAAK,CAACK,IAAN,CAAW,uBAAX,EAAoC;IACzDH,KADyD;IAEzDC,QAFyD;IAGzDG,IAAI,EAAE;EAHmD,CAApC,CAAvB;EAKAC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAA9B;EAEA,OAAON,SAAS,CAACM,IAAD,CAAhB;AACD,CATM;AAWP,OAAO,MAAMK,KAAK,GAAG,eAAoC;EAAA,IAA7B;IAAEP,KAAF;IAASC;EAAT,CAA6B;EACvD,MAAM;IAAEC;EAAF,IAAW,MAAMJ,KAAK,CAACK,IAAN,CAAW,gBAAX,EAA6B;IAClDH,KADkD;IAElDC;EAFkD,CAA7B,CAAvB;EAIAO,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBP,IAArB;EAEAG,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAA9B;EAEA,OAAON,SAAS,CAACM,IAAD,CAAhB;AACD,CAVM;AAYP,OAAO,MAAMQ,WAAW,GAAG,YAAY;EACrC,MAAM;IAAER;EAAF,IAAW,MAAML,SAAS,CAACc,GAAV,CAAc,eAAd,CAAvB;EAEAN,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACU,KAAnC;EAEA,OAAOhB,SAAS,CAACM,IAAI,CAACU,KAAN,CAAhB;AACD,CANM"},"metadata":{},"sourceType":"module"}